<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link href="css/style.css" rel="stylesheet">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link href="https://fonts.googleapis.com/css?family=Orbitron" rel="stylesheet">
    <title>Document</title>
</head>

<body>
    <div class="calc_frame" class="container">
        <h5 class="title">electronic calculator</h5>
        <div class="screen text-right">
            <p id="bigNum">0</p>
            <p id="smallNum">0</p>
        </div>
        <div class="row row-padding text-center">
            <div class="col-xs-3"><button class="btn-custom" id="ac" onclick="displayNumber()">AC</button></div>
            <div class="col-xs-3"><button class="btn-custom" id="ce" onclick="displayNumber()">CE</button></div>
            <div class="col-xs-3"><button class="btn-custom" id="divide" onclick="displayNumber('/')">/</button></div>
            <div class="col-xs-3"><button class="btn-custom" id="multiply" onclick="displayNumber('x')">X</button></div>
        </div>
        <!--end of first column-->
        <div class="row row-padding text-center">
            <div class="col-xs-3"><button class="btn-custom" id="7" onclick="displayNumber(7)">7</button></div>
            <div class="col-xs-3"><button class="btn-custom" id="8" onclick="displayNumber(8)">8</button></div>
            <div class="col-xs-3"><button class="btn-custom" id="9" onclick="displayNumber(9)">9</button></div>
            <div class="col-xs-3"><button class="btn-custom" id="subtract" onclick="displayNumber('-')">-</button></div>
        </div>
        <!--end of second column-->
        <div class="row row-padding text-center">
            <div class="col-xs-3"><button class="btn-custom" id="4" onclick="displayNumber(4)">4</button></div>
            <div class="col-xs-3"><button class="btn-custom" id="5" onclick="displayNumber(5)">5</button></div>
            <div class="col-xs-3"><button class="btn-custom" id="6" onclick="displayNumber(6)">6</button></div>
            <div class="col-xs-3"><button class="btn-custom" id="add" onclick="displayNumber('+')">+</button></div>
        </div>
        <!--end of third column-->
        <div class="row row-padding text-center">
            <div class="col-xs-9">
                <div class="row bottom text-center">
                    <div class="col-xs-4"><button class="btn-custom" id="1" onclick="displayNumber(1)">1</button></div>
                    <div class="col-xs-4"><button class="btn-custom" id="2" onclick="displayNumber(2)">2</button></div>
                    <div class="col-xs-4"><button class="btn-custom" id="3" onclick="displayNumber(3)">3</button></div>
                </div>
                <div class="row text-center">
                    <div class="col-xs-8"><button class="btn-custom btn-long" id="0" onclick="displayNumber(0)">0</button></div>
                    <div class="col-xs-4"><button class="btn-custom" id="dot" onclick="displayNumber('.')">.</button></div>
                </div>
            </div>
            <div class="col-xs-3"><button class="btn-custom btn-tall" id="equals" onclick="displayNumber('=')">=</button></div>
        </div>
        <!--end of fourth column-->
    </div>
    <!--end of calc_frame-->
    <script src="js/operations.js" type="text/javascript"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script type="text/javascript">
        var result = '';
        var resultText = '';
        var num1 = 0;
        var num2 = 0;
        var ans = undefined;
        var count = 0;
        var o = operations();
        function displayNumber(value) {
            //for AC anc CE buttons
            if (value === undefined) {
                result = '0';
                resultText = ''
                count = 0;
                document.getElementById('bigNum').innerHTML = result;
                document.getElementById('smallNum').innerHTML = result;
                result = '';
            }
            else if (value === "/") {
                if (count != 0) {
                    num2 = parseFloat(resultText);
                    if (operator == "+") {

                        console.log("numbers");
                        console.log(num1, num2);
                        resultText = o.add(num1, num2);
                        result = resultText;
                    }
                    else if (operator == "-") {

                        resultText = o.subtract(num1, num2);
                        result = resultText;
                    }
                    else if (operator == "x") {

                        resultText = o.multiply(num1, num2);
                        result = resultText;
                    }
                    else if (operator == "/") {

                        resultText = o.divide(num1, num2);
                        result = resultText;
                    }

                    ans = parseFloat(resultText);
                    console.log("answer");
                    console.log(ans);
                    document.getElementById('bigNum').innerHTML = resultText;
                    document.getElementById('smallNum').innerHTML = result;
                    // result = '';
                    // resultText = '';                   
                }

                if (ans !== undefined) {
                    num1 = ans;
                }
                else {
                    num1 = parseFloat(resultText);
                }
                operator = "/";
                count++;
                resultText = value;
                result += value;
                document.getElementById('bigNum').innerHTML = resultText;
                document.getElementById('smallNum').innerHTML = result;
                resultText = '';

            }
            //for multiplication button
            else if (value === "x") {
                if (count != 0) {
                    num2 = parseFloat(resultText);
                    if (operator == "+") {

                        console.log("numbers");
                        console.log(num1, num2);
                        resultText = o.add(num1, num2);
                        result = resultText;
                    }
                    else if (operator == "-") {

                        resultText = o.subtract(num1, num2);
                        result = resultText;
                    }
                    else if (operator == "x") {

                        resultText = o.multiply(num1, num2);
                        result = resultText;
                    }
                    else if (operator == "/") {

                        resultText = o.divide(num1, num2);
                        result = resultText;
                    }

                    ans = parseFloat(resultText);
                    console.log("answer");
                    console.log(ans);
                    document.getElementById('bigNum').innerHTML = resultText;
                    document.getElementById('smallNum').innerHTML = result;
                    // result = '';
                    // resultText = '';                   
                }

                if (ans !== undefined) {
                    num1 = ans;
                }
                else {
                    num1 = parseFloat(resultText);
                }
                operator = "x";
                count++;
                resultText = value;
                result += value;
                document.getElementById('bigNum').innerHTML = resultText;
                document.getElementById('smallNum').innerHTML = result;
                resultText = '';

            }
            //for addition button
            else if (value === "+") {
                if (count != 0) {
                    num2 = parseFloat(resultText);
                    if (operator == "+") {

                        console.log("numbers");
                        console.log(num1, num2);
                        resultText = o.add(num1, num2);
                        result = resultText;
                    }
                    else if (operator == "-") {

                        resultText = o.subtract(num1, num2);
                        result = resultText;
                    }
                    else if (operator == "x") {

                        resultText = o.multiply(num1, num2);
                        result = resultText;
                    }
                    else if (operator == "/") {

                        resultText = o.divide(num1, num2);
                        result = resultText;
                    }

                    ans = parseFloat(resultText);
                    console.log("answer");
                    console.log(ans);
                    document.getElementById('bigNum').innerHTML = resultText;
                    document.getElementById('smallNum').innerHTML = result;
                    // result = '';
                    // resultText = '';


                }
                if (ans !== undefined) {
                    num1 = ans;
                }
                else {
                    num1 = parseFloat(resultText);
                }
                operator = "+";
                count++;
                resultText = value;
                result += value;
                document.getElementById('bigNum').innerHTML = resultText;
                document.getElementById('smallNum').innerHTML = result;
                resultText = '';

            }
            //for subtraction button
            else if (value === "-") {
                if (count != 0) {
                    num2 = parseFloat(resultText);
                    if (operator == "+") {

                        console.log("numbers");
                        console.log(num1, num2);
                        resultText = o.add(num1, num2);
                        result = resultText;
                    }
                    else if (operator == "-") {

                        resultText = o.subtract(num1, num2);
                        result = resultText;
                    }
                    else if (operator == "x") {

                        resultText = o.multiply(num1, num2);
                        result = resultText;
                    }
                    else if (operator == "/") {

                        resultText = o.divide(num1, num2);
                        result = resultText;
                    }

                    ans = parseFloat(resultText);
                    console.log("answer");
                    console.log(ans);
                    document.getElementById('bigNum').innerHTML = resultText;
                    document.getElementById('smallNum').innerHTML = result;
                    // result = '';
                    // resultText = '';                    
                }

                if (ans !== undefined) {
                    num1 = ans;
                }
                else {
                    num1 = parseFloat(resultText);
                }
                operator = "-";
                count++;
                resultText = value;
                result += value;
                document.getElementById('bigNum').innerHTML = resultText;
                document.getElementById('smallNum').innerHTML = result;
                resultText = '';

            }
            //for decimal button
            else if (value === ".") {
                resultText += value;
                result += value;
                document.getElementById('bigNum').innerHTML = resultText;
                document.getElementById('smallNum').innerHTML = result;
                //unfinished
            }
            //for equal to button
            else if (value === "=") {
                num2 = parseFloat(resultText);
                if (operator == "+") {

                    console.log("numbers");
                    console.log(num1, num2);
                    resultText = o.add(num1, num2);
                    result = resultText;
                }
                else if (operator == "-") {

                    resultText = o.subtract(num1, num2);
                    result = resultText;
                }
                else if (operator == "x") {

                    resultText = o.multiply(num1, num2);
                    result = resultText;
                }
                else if (operator == "/") {

                    resultText = o.divide(num1, num2);
                    result = resultText;
                }

                ans = parseFloat(resultText);
                count = 0;
                console.log("answer");
                console.log(ans);
                document.getElementById('bigNum').innerHTML = resultText;
                document.getElementById('smallNum').innerHTML = result;
                result = '';
                resultText = '';

            }
            //for all Number buttons
            else {
                ans = undefined;
                resultText += value;
                result += value;
                //$('#bigNum').val(value);
                document.getElementById('bigNum').innerHTML = resultText;
                document.getElementById('smallNum').innerHTML = result;
            }
        }
    </script>

</body>

</html>